<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Parallel strategies in `simChef` • simChef</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Parallel strategies in `simChef`">
<meta property="og:description" content="simChef">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simChef</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/simChef.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/parallel.html">Parallel strategies in `simChef`</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Parallel strategies in <code>simChef</code>
</h1>
            
      
      
      <div class="hidden name"><code>parallel.Rmd</code></div>

    </div>

    
    
<p>Given the large amount of computation that simulation experiments require, <code>simChef</code> uses the R package <a href="https://future.futureverse.org/"><code>future</code></a> to distribute computation across available resources. Users must decide upon two aspects of the distributed computation in order to effectively parallelize the simulations: <em>what</em> resources to use and <em>how</em> to use them.</p>
<p><code>simChef</code> is entirely agnostic to the answer to the <em>what</em> question; any resource that <code>future</code> supports is also supported. For example, to run your simulation experiments on your local Linux, macOS, or Windows machine using all but one of the cores, you might run:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">n_workers</span> <span class="op">&lt;-</span> <span class="fu">availableCores</span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>
<span class="fu">plan</span><span class="op">(</span><span class="va">multisession</span>, workers <span class="op">=</span> <span class="va">n_workers</span><span class="op">)</span></code></pre></div>
<p>Once a <code>future</code> plan has been set, <code>simChef</code> will execute computation according to the plan specified. To answer the <em>how</em> question, consider <code>n</code> computational “tasks” to be distributed across <code>p</code> parallel workers. Assuming each task takes approximately the same amount of time to complete regardless of the worker assigned to the task, then with <code>n=100</code> and <code>p=4</code> each worker should complete around 25 of the tasks. In the ideal setting, the total time to complete the 100 tasks should be around 4 times lower than the time it takes one worker to complete them, on average.</p>
<p>In more realistic scenarios, and especially in simulation experiments where heterogeneous methods are compared in various diverse problem settings, tasks are often much less uniform and different parallel strategies can have profound implications for the overall running time. Therefore, it’s important to carefully decide how to package your tasks in order to take greatest advantage of the available parallelism.</p>
<p>By default, <code>simChef</code> distributes computation across the available resources by splitting up the simulation’s replicates evenly across available workers, answering the <em>how</em> question. However, <code>simChef</code> gives the user more fine-grained control over how computation is split across available resources by setting the parallel strategy when calling <code>Experiment$fit()</code> or <code>Experiment$run()</code> via the <code>parallel_strategy</code> argument. The possible values and implications of <code>parallel_strategy</code> are listed in the table below:</p>
<table class="table">
<colgroup>
<col width="36%">
<col width="31%">
<col width="31%">
</colgroup>
<thead><tr class="header">
<th align="center"><code>parallel_strategy</code></th>
<th align="left">Parallelism</th>
<th align="left">Data implications</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><code>"reps"</code></td>
<td align="left">One task per simulation replicate</td>
<td align="left">Methods evaluated on common datasets</td>
</tr>
<tr class="even">
<td align="center"><code>"dgps"</code></td>
<td align="left">One task per <code>DGP</code> in <code>Experiment</code>
</td>
<td align="left">Methods evaluated on common datasets</td>
</tr>
<tr class="odd">
<td align="center"><code>"methods"</code></td>
<td align="left">One task per <code>Method</code> in <code>Experiment</code>
</td>
<td align="left">Methods evaluated on independent datasets</td>
</tr>
<tr class="even">
<td align="center"><code><a href="https://rdrr.io/r/base/c.html">c("reps", "dgps")</a></code></td>
<td align="left">One task per combination of replicates and <code>DGP</code>
</td>
<td align="left">Methods evaluated on common datasets</td>
</tr>
<tr class="odd">
<td align="center"><code><a href="https://rdrr.io/r/base/c.html">c("reps", "methods")</a></code></td>
<td align="left">One task per combination of replicates and <code>Method</code>
</td>
<td align="left">Methods evaluated on independent datasets</td>
</tr>
<tr class="even">
<td align="center"><code><a href="https://rdrr.io/r/base/c.html">c("dgps", "methods")</a></code></td>
<td align="left">One task per combination of <code>DGP</code> and <code>Method</code>
</td>
<td align="left">Methods evaluated on independent datasets</td>
</tr>
<tr class="odd">
<td align="center"><code><a href="https://rdrr.io/r/base/c.html">c("reps", "dgps", "methods")</a></code></td>
<td align="left">One task per combination of replicates, <code>DGP</code> and <code>Method</code>
</td>
<td align="left">Methods evaluated on independent datasets</td>
</tr>
</tbody>
</table>
<p>The best parallel strategy is entirely dependent on the details of your particular simulation experiment. In general, one should not have fewer tasks than workers and should avoid <code>n&gt;&gt;p</code> very small tasks as the overhead of distributing computation to workers may outweigh the benefits of parallelism.</p>
<div id="an-example-of-parallel-execution" class="section level2">
<h2 class="hasAnchor">
<a href="#an-example-of-parallel-execution" class="anchor"></a>An example of parallel execution</h2>
<p>Practically speaking, parallelization in <code>simChef</code> works without modification to your code other than using <code>future</code> to set a parallel backend and choosing your parallelization strategy when running or fitting your experiment. In the example below, we choose the <code>multicore</code> backend (not available on Windows) to create forked R processes using all but one of the available cores. We parallelize across combinations of replicates and data-generating processes by using <code>parallel_strategy = c("reps", "dgps")</code>. Since we vary across parameters of our second <code>DGP</code>, those parameter combinations are included in the parallelization across data-generating processing. As far as the parallelization is concerned, it’s as if we added 17 total <code>DGP</code> objects to the experiment (1 for <code>dgp1</code> and 16 for the combinations of parameters to <code>dgp2</code>), though in actuality we only added two.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">simChef</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://future.futureverse.org">future</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="va">n_workers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://future.futureverse.org/reference/re-exports.html">availableCores</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>
<span class="fu"><a href="https://future.futureverse.org/reference/plan.html">plan</a></span><span class="op">(</span><span class="va">multicore</span>, workers <span class="op">=</span> <span class="va">n_workers</span><span class="op">)</span>

<span class="va">dgp_fun1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">=</span><span class="fl">100</span>, <span class="va">rho</span><span class="op">=</span><span class="fl">0.5</span>, <span class="va">noise_level</span><span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">cov_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
  <span class="va">cov_mat</span><span class="op">[</span><span class="va">cov_mat</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">rho</span>
  <span class="va">X</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">mvrnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span>, Sigma <span class="op">=</span> <span class="va">cov_mat</span><span class="op">)</span>
  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">X</span><span class="op">)</span> <span class="op">%*%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8</span>, <span class="fl">3</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">n</span>, sd <span class="op">=</span> <span class="va">noise_level</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">dgp_fun2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">=</span><span class="fl">100</span>, <span class="va">p</span><span class="op">=</span><span class="fl">100</span>, <span class="va">rho</span><span class="op">=</span><span class="fl">0.5</span>, <span class="va">sparsity</span><span class="op">=</span><span class="fl">0.5</span>, <span class="va">noise_level</span><span class="op">=</span><span class="fl">1</span>,
                     <span class="va">nonzero_coeff</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">cov_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="va">p</span><span class="op">)</span>
  <span class="va">cov_mat</span><span class="op">[</span><span class="va">cov_mat</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">rho</span>
  <span class="va">X</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">mvrnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">p</span><span class="op">)</span>, Sigma <span class="op">=</span> <span class="va">cov_mat</span><span class="op">)</span>
  <span class="va">coeff_prob</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">sparsity</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">sparsity</span><span class="op">)</span> <span class="op">/</span> <span class="fl">4</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
  <span class="va">coeff</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="op">-</span><span class="fl">8</span>, <span class="co"># intercept</span>
    <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>
      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">nonzero_coeff</span><span class="op">)</span>, size <span class="op">=</span> <span class="va">p</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>,
      prob <span class="op">=</span> <span class="va">coeff_prob</span>
    <span class="op">)</span>
  <span class="op">)</span>
  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">X</span><span class="op">)</span> <span class="op">%*%</span> <span class="va">coeff</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">n</span>, sd <span class="op">=</span> <span class="va">noise_level</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">dgp1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_dgp.html">create_dgp</a></span><span class="op">(</span><span class="va">dgp_fun1</span>, name <span class="op">=</span> <span class="st">"dense_dgp"</span><span class="op">)</span>
<span class="va">dgp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_dgp.html">create_dgp</a></span><span class="op">(</span><span class="va">dgp_fun2</span>, name <span class="op">=</span> <span class="st">"sparse_dgp"</span><span class="op">)</span>

<span class="va">ols</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">X</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">X</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html">tidy</a></span><span class="op">(</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">elnet</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">X</span>, <span class="va">y</span>, <span class="va">alpha</span><span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">glmnet</span><span class="fu">::</span><span class="fu"><a href="https://glmnet.stanford.edu/reference/glmnet.html">glmnet</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">y</span>, family <span class="op">=</span> <span class="st">"gaussian"</span>, alpha <span class="op">=</span> <span class="va">alpha</span>
  <span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html">tidy</a></span><span class="op">(</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">method1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_method.html">create_method</a></span><span class="op">(</span><span class="va">ols</span>, name <span class="op">=</span> <span class="st">"ols"</span><span class="op">)</span>
<span class="va">method2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_method.html">create_method</a></span><span class="op">(</span><span class="va">elnet</span>, name <span class="op">=</span> <span class="st">"elnet"</span><span class="op">)</span>

<span class="va">experiment</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_experiment.html">create_experiment</a></span><span class="op">(</span>
  name <span class="op">=</span> <span class="st">"base"</span>, future.packages <span class="op">=</span> <span class="st">"dplyr"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_funs.html">add_dgp</a></span><span class="op">(</span><span class="va">dgp1</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_funs.html">add_dgp</a></span><span class="op">(</span><span class="va">dgp2</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_funs.html">add_method</a></span><span class="op">(</span><span class="va">method1</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_funs.html">add_method</a></span><span class="op">(</span><span class="va">method2</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/vary_across.html">add_vary_across</a></span><span class="op">(</span>
    dgp <span class="op">=</span> <span class="st">"sparse_dgp"</span>,
    p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1000</span><span class="op">)</span>,
    rho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.9</span><span class="op">)</span>,
    sparsity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.9</span><span class="op">)</span>,
    nonzero_coeff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.3</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/vary_across.html">add_vary_across</a></span><span class="op">(</span>
    method <span class="op">=</span> <span class="st">"elnet"</span>, alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">1</span><span class="op">)</span>
  <span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/warning.html">suppressWarnings</a></span><span class="op">(</span>
  <span class="va">experiment</span><span class="op">$</span><span class="fu">fit</span><span class="op">(</span>
    n_reps <span class="op">=</span> <span class="fl">2</span>, parallel_strategy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"reps"</span>, <span class="st">"dgps"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; Fitting base...</span>
<span class="co">#&gt; Fitting completed | time taken: 0.282738 minutes</span>
<span class="co">#&gt; ==============================</span>
<span class="co">#&gt; # A tibble: 136 × 16</span>
<span class="co">#&gt;      rep dgp_name   method_name     p   rho sparsity nonzero_coeff alpha term   </span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;list&gt;        &lt;dbl&gt; &lt;list&gt; </span>
<span class="co">#&gt;  1     1 dense_dgp  elnet          NA  NA       NA   &lt;NULL&gt;          0   &lt;chr […</span>
<span class="co">#&gt;  2     1 dense_dgp  elnet          NA  NA       NA   &lt;NULL&gt;          0.5 &lt;chr […</span>
<span class="co">#&gt;  3     1 dense_dgp  elnet          NA  NA       NA   &lt;NULL&gt;          1   &lt;chr […</span>
<span class="co">#&gt;  4     1 dense_dgp  ols            NA  NA       NA   &lt;NULL&gt;         NA   &lt;chr […</span>
<span class="co">#&gt;  5     1 sparse_dgp elnet         100   0.2      0.5 &lt;dbl [4]&gt;       0   &lt;chr […</span>
<span class="co">#&gt;  6     1 sparse_dgp elnet         100   0.2      0.5 &lt;dbl [4]&gt;       0.5 &lt;chr […</span>
<span class="co">#&gt;  7     1 sparse_dgp elnet         100   0.2      0.5 &lt;dbl [4]&gt;       1   &lt;chr […</span>
<span class="co">#&gt;  8     1 sparse_dgp elnet        1000   0.2      0.5 &lt;dbl [4]&gt;       0   &lt;chr […</span>
<span class="co">#&gt;  9     1 sparse_dgp elnet        1000   0.2      0.5 &lt;dbl [4]&gt;       0.5 &lt;chr […</span>
<span class="co">#&gt; 10     1 sparse_dgp elnet        1000   0.2      0.5 &lt;dbl [4]&gt;       1   &lt;chr […</span>
<span class="co">#&gt; # … with 126 more rows, and 7 more variables: estimate &lt;list&gt;,</span>
<span class="co">#&gt; #   std.error &lt;list&gt;, statistic &lt;list&gt;, p.value &lt;list&gt;, step &lt;list&gt;,</span>
<span class="co">#&gt; #   lambda &lt;list&gt;, dev.ratio &lt;list&gt;</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by James Duncan, Tiffany Tang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
