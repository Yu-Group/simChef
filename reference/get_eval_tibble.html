<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Helper function to get the summarized evaluation results
tibble for plotting. This function will compute the summarized
evaluation results if they have not been computed previously. Otherwise,
it will read in the previously computed results and compute and append any
new results necessary to construct the specified plot."><title>Get the summarized evaluation results tibble for plotting. — get_eval_tibble • simChef</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get the summarized evaluation results tibble for plotting. — get_eval_tibble"><meta property="og:description" content="Helper function to get the summarized evaluation results
tibble for plotting. This function will compute the summarized
evaluation results if they have not been computed previously. Otherwise,
it will read in the previously computed results and compute and append any
new results necessary to construct the specified plot."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">simChef</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/simChef.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/parallel.html">Parallel computation in `simChef`</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Yu-Group/simChef/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Get the summarized evaluation results tibble for plotting.</h1>
      <small class="dont-index">Source: <a href="https://github.com/Yu-Group/simChef/blob/HEAD/R/visualizer-lib-utils.R" class="external-link"><code>R/visualizer-lib-utils.R</code></a></small>
      <div class="d-none name"><code>get_eval_tibble.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Helper function to get the summarized evaluation results
<code>tibble</code> for plotting. This function will compute the summarized
evaluation results if they have not been computed previously. Otherwise,
it will read in the previously computed results and compute and append any
new results necessary to construct the specified plot.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_eval_tibble</span><span class="op">(</span>
  <span class="va">fit_results</span>,
  eval_tib <span class="op">=</span> <span class="cn">NULL</span>,
  eval_id <span class="op">=</span> <span class="cn">NULL</span>,
  eval_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"summarize_"</span>, <span class="va">eval_id</span><span class="op">)</span>,
  vary_params <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">show</span>,
  y_str <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>fit_results</dt>
<dd><p>A tibble, as returned by the <code>fit</code> method.</p></dd>
<dt>eval_tib</dt>
<dd><p>(Optional) <code>Tibble</code> (typically from the output of
<code>eval_summary_constructor</code>) containing the summarized evaluation
results to plot. If not provided, the evaluation results will be
automatically computed by calling <code>eval_fun()</code>. If the summarized
evaluation results have already been computed previously, <code>eval_tib</code>
should be specified to avoid duplicate computations.</p></dd>
<dt>eval_id</dt>
<dd><p>Character string. ID used as the suffix for naming columns in
<code>eval_summary_constructor()</code>. Should be the same as the <code>eval_id</code>
argument in <code>eval_summary_constructor()</code>.</p></dd>
<dt>eval_fun</dt>
<dd><p>Function used to compute evaluation results summary. This
function is only used (and required) if necessary results have not already
been computed in <code>eval_tib</code>.</p></dd>
<dt>vary_params</dt>
<dd><p>A vector of parameter names that are varied across in the
<code>Experiment</code>.</p></dd>
<dt>show</dt>
<dd><p>Character vector with elements being one of "boxplot", "point",
"line", "bar", "errorbar", "ribbon" indicating what plot layer(s) to
construct.</p></dd>
<dt>y_str</dt>
<dd><p>(Optional) Name of column in <code>eval_tib</code> to plot on the
y-axis if <code>show</code> is anything but "boxplot". Default "auto" chooses
what to plot on the y-axis automatically.</p></dd>
<dt>...</dt>
<dd><p>Additional arguments to pass to <code>eval_fun()</code>. This is only
used if necessary results have not already been computed in
<code>eval_tib</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> with the summarized evaluation results.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># generate example fit results data</span></span>
<span class="r-in"><span class="va">fit_results</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span class="r-in">  .rep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span class="r-in">  .dgp_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DGP1"</span>, <span class="st">"DGP1"</span>, <span class="st">"DGP2"</span>, <span class="st">"DGP2"</span><span class="op">)</span>,</span>
<span class="r-in">  .method_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Method"</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="co"># true response</span></span>
<span class="r-in">  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="co"># predicted response</span></span>
<span class="r-in">  predictions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># compute (from scratch) the evaluation results that are necessary for plotting</span></span>
<span class="r-in"><span class="va">eval_tib</span> <span class="op">&lt;-</span> <span class="fu">get_eval_tibble</span><span class="op">(</span>fit_results <span class="op">=</span> <span class="va">fit_results</span>, </span>
<span class="r-in">                            eval_tib <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span class="r-in">                            eval_id <span class="op">=</span> <span class="st">"pred_err"</span>,</span>
<span class="r-in">                            eval_fun <span class="op">=</span> <span class="st">"summarize_pred_err"</span>, </span>
<span class="r-in">                            show <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"point"</span>, <span class="st">"errorbar"</span><span class="op">)</span>,</span>
<span class="r-in">                            y_str <span class="op">=</span> <span class="cn">NULL</span>,  <span class="co"># or equivalently, "mean_pred_err"</span></span>
<span class="r-in">                            <span class="co"># arguments to pass to `eval_fun`</span></span>
<span class="r-in">                            truth_col <span class="op">=</span> <span class="st">"y"</span>,</span>
<span class="r-in">                            estimate_col <span class="op">=</span> <span class="st">"predictions"</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># this is equivalent to:</span></span>
<span class="r-in"><span class="va">eval_tib2</span> <span class="op">&lt;-</span> <span class="fu"><a href="eval_pred_err_funs.html">summarize_pred_err</a></span><span class="op">(</span></span>
<span class="r-in">  fit_results <span class="op">=</span> <span class="va">fit_results</span>, </span>
<span class="r-in">  truth_col <span class="op">=</span> <span class="st">"y"</span>,</span>
<span class="r-in">  estimate_col <span class="op">=</span> <span class="st">"predictions"</span>,</span>
<span class="r-in">  summary_funs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">eval_tib</span>, <span class="va">eval_tib2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># read in pre-computed evaluation results since it has everything needed for plotting</span></span>
<span class="r-in"><span class="va">eval_tib</span> <span class="op">&lt;-</span> <span class="fu">get_eval_tibble</span><span class="op">(</span>fit_results <span class="op">=</span> <span class="va">fit_results</span>,</span>
<span class="r-in">                            eval_tib <span class="op">=</span> <span class="va">eval_tib</span>, </span>
<span class="r-in">                            eval_id <span class="op">=</span> <span class="st">"pred_err"</span>,</span>
<span class="r-in">                            eval_fun <span class="op">=</span> <span class="st">"summarize_pred_err"</span>, </span>
<span class="r-in">                            show <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"point"</span>, <span class="st">"errorbar"</span><span class="op">)</span>,</span>
<span class="r-in">                            y_str <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>  <span class="co"># or equivalently, "mean_pred_err"</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">eval_tib</span>, <span class="va">eval_tib2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># if columns that are needed for plotting are missing in `eval_tib`, then</span></span>
<span class="r-in"><span class="co"># `get_eval_tibble` will call the `eval_fun` and compute the necessary results</span></span>
<span class="r-in"><span class="va">eval_tib</span> <span class="op">&lt;-</span> <span class="fu">get_eval_tibble</span><span class="op">(</span>fit_results <span class="op">=</span> <span class="va">fit_results</span>, </span>
<span class="r-in">                            eval_tib <span class="op">=</span> <span class="va">eval_tib</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">mean_pred_err</span><span class="op">)</span>,</span>
<span class="r-in">                            eval_id <span class="op">=</span> <span class="st">"pred_err"</span>,</span>
<span class="r-in">                            eval_fun <span class="op">=</span> <span class="st">"summarize_pred_err"</span>, </span>
<span class="r-in">                            show <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"point"</span>, <span class="st">"errorbar"</span><span class="op">)</span>,</span>
<span class="r-in">                            y_str <span class="op">=</span> <span class="cn">NULL</span>,  <span class="co"># or equivalently, "mean_pred_err"</span></span>
<span class="r-in">                            <span class="co"># arguments to pass to `eval_fun`</span></span>
<span class="r-in">                            truth_col <span class="op">=</span> <span class="st">"y"</span>,</span>
<span class="r-in">                            estimate_col <span class="op">=</span> <span class="st">"predictions"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">eval_tib</span>, <span class="va">eval_tib2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in">  </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by James Duncan, Tiffany Tang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

