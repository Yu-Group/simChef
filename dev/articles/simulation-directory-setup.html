<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Setting Up Your Simulation Study • simChef</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Setting Up Your Simulation Study">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simChef</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/simChef.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cheat-sheet.html">Cheat sheet: Inputs/outputs for user-defined functions</a></li>
    <li><a class="dropdown-item" href="../articles/parallel.html">Computing experimental replicates in parallel</a></li>
    <li><a class="dropdown-item" href="../articles/simChef-full.html">simChef: A comprehensive guide</a></li>
    <li><a class="dropdown-item" href="../articles/simulation-directory-setup.html">Setting Up Your Simulation Study</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Yu-Group/simChef/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Setting Up Your Simulation Study</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Yu-Group/simChef/blob/v0.2.0/vignettes/simulation-directory-setup.Rmd" class="external-link"><code>vignettes/simulation-directory-setup.Rmd</code></a></small>
      <div class="d-none name"><code>simulation-directory-setup.Rmd</code></div>
    </div>

    
    
<p>We recommend initializing your simulation directory as you would any
new analysis: using a project. Doing so improves reproducibility and
replicability; it keeps your code, data, and outputs neatly separated
from other analyses.</p>
<p>In the same vein, we <em>highly</em> encourage the use of version
control software — <a href="https://git-scm.com/" class="external-link">git</a> in particular.
It helps you keep track of changes, undo snafus, and seamlessly
collaborate with your peers. Your git repositories can be linked to <a href="https://github.com/" class="external-link">GitHub</a>, a hosting service that lets you
manage your projects. If you’re unfamiliar with git or GitHub, or
haven’t yet set git up on you machine, we suggest reviewing Chapters 4
through 8 of <a href="https://happygitwithr.com/index.html" class="external-link"><em>Happy
Git and GitHub for the useR</em></a>.</p>
<p>While you could create a version-controlled R project manually, we
suggest using the <code><a href="../reference/init_sim_project.html">init_sim_project()</a></code> function. Briefly,
this function takes as argument a <code>path</code> indicating the
location of the new directory for your simulation study and creates the
necessary folders and files. It also initializes a new project and a git
repository. This repository can optionally be linked to GitHub using,
for example, <a href="https://usethis.r-lib.org/reference/use_github.html" class="external-link"><code>usethis::use_github()</code></a>.
If you don’t want to use git, set <code><a href="../reference/init_sim_project.html">init_sim_project()</a></code>’s
<code>init_git</code> argument to <code>FALSE</code>.</p>
<p>After creating your project with <code><a href="../reference/init_sim_project.html">init_sim_project()</a></code>,
you’ll find the following directories and files at the designated
<code>path</code>:</p>
<ul>
<li>
<code>R/</code>: This folder will contain the R functions to run
your simulation study.
<ul>
<li>
<code>dgp/</code>: Data-generating process functions are stored
here.</li>
<li>
<code>method/</code>: Method functions are stored here.</li>
<li>
<code>eval/</code>: Evaluator functions are stored here.</li>
<li>
<code>viz/</code>: Visualizer functions are stored here.</li>
</ul>
</li>
<li>
<code>meals/</code>: This folder will contain your <em>meal</em>
scripts, which assembles and runs your <code>simChef</code> experiments.
<ul>
<li>
<code>meal.R</code>: A starter meal template to assemble and run
your <code>simChef</code> experiment.</li>
</ul>
</li>
<li>
<code>results/</code>: Your simulation experiment’s output are
automatically saved here.</li>
<li>
<code>README.md</code>: This markdown file briefly summarizes your
simulation study’s goals and results. Some guidance on navigating your
project’s directory structure might also be appreciated by your
collaborators — and even yourself at some point in the future.</li>
</ul>
<p>We also suggest incorporating <em>unit tests</em> in your simulation
study. Unit tests allow you to test individual units of code to make
sure that they are working as expected. The trustworthiness of your
simulation study’s results is in turn improved.</p>
<p><code>simChef</code> integrates with the <a href="https://testthat.r-lib.org/" class="external-link"><code>testthat</code></a> R package,
the most commonly used unit testing framework for R software
development. The scaffolding required for testing your simulation
study’s code is generated automatically when setting
<code><a href="../reference/init_sim_project.html">init_sim_project()</a></code>’s <code>init_tests</code> argument to
<code>TRUE</code>—the default. All of your tests can then be carried out
by running <code><a href="../reference/run_tests.html">run_tests()</a></code> from the root directory of your
simulation project.</p>
<p>Here’s a rundown of the test directories and files that are created
by <code><a href="../reference/init_sim_project.html">init_sim_project()</a></code>:</p>
<ul>
<li>
<code>tests/</code>: The folder containing all of the unit testing
material.
<ul>
<li>
<code>testthat.R</code>: This script calls
<code><a href="https://testthat.r-lib.org/reference/test_dir.html" class="external-link">testthat::test_dir()</a></code> on the following sub-directories to
run the tests contained therein. All packages used by the functions in
your <code>R/</code> directory must be included
<strong>manually</strong> in this file.</li>
<li>
<code>testthat/dgp-tests/</code>: Tests for data-generating process
functions.</li>
<li>
<code>testthat/method-tests/</code>: Tests for method
functions.</li>
<li>
<code>testthat/eval-tests/</code>: Tests for evaluator
functions.</li>
<li>
<code>testthat/viz-tests/</code>: Tests for visualizer
functions.</li>
</ul>
</li>
</ul>
<p>If you know that your simulation study will require plenty of
computational resources, then you might consider running it on a
high-performance computing environment with a workload managers, like <a href="https://slurm.schedmd.com/documentation.html" class="external-link">SLURM</a>.
Directories for organizing high-performance computing-related files can
be included in the project setup by setting
<code>init_dirs = c("scripts", "logs")</code> when calling
<code><a href="../reference/init_sim_project.html">init_sim_project()</a></code>:</p>
<ul>
<li>
<code>scripts/</code>: This directory folder contains scripts, like
Bash files, for initiating simulation studies in high-performance
computing environments. For added flexibility, we recommend the R
package <a href="https://github.com/trevorld/r-optparse" class="external-link"><code>optparse</code></a>
to parse command-line options from your bash scripts within
<code>meal.R</code>.</li>
<li>
<code>logs/</code>: The files output by these workload managers can
be stored in this directory.</li>
</ul>
<p>More generally, you can include any additional directories you might
need by setting <code>init_dirs</code> to a character vector of the
desired directory names.</p>
<p>Again with reproducibility and replicability in mind, we encourage
the use of <a href="https://cran.r-project.org/web/packages/renv/index.html" class="external-link"><code>renv</code></a>
for project-local dependency management. <code>renv</code> can be
initialized when creating your project by setting
<code>init_renv = TRUE</code> in your call to
<code><a href="../reference/init_sim_project.html">init_sim_project()</a></code>. The general <code>renv</code> workflow
can be found <a href="https://rstudio.github.io/renv/articles/renv.html" class="external-link">here</a>.</p>
<p>An overview of the project directory trees created using
<code><a href="../reference/init_sim_project.html">init_sim_project()</a></code> is provided below.</p>
<div class="float">
<img src="figures%2Finit_sim_project.png" style="width:100.0%" alt="Overview of directory trees from simulation projects created via init_sim_project() with different configurations."><div class="figcaption">Overview of directory trees from simulation
projects created via <code><a href="../reference/init_sim_project.html">init_sim_project()</a></code> with different
configurations.</div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tiffany Tang, James Duncan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
