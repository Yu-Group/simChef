<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="simChef">
<title>Setting Up Your Simulation • simChef</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Setting Up Your Simulation">
<meta property="og:description" content="simChef">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">simChef</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.0.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/simChef.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/parallel.html">Computing experimental replicates in parallel</a>
    <a class="dropdown-item" href="../articles/simulation-directory-setup.html">Setting Up Your Simulation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Yu-Group/simChef/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Setting Up Your Simulation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Yu-Group/simChef/blob/HEAD/vignettes/simulation-directory-setup.Rmd" class="external-link"><code>vignettes/simulation-directory-setup.Rmd</code></a></small>
      <div class="d-none name"><code>simulation-directory-setup.Rmd</code></div>
    </div>

    
    
<p>We recommend initializing your simulation directory as you would any
new analysis: using a project. Doing so improves reproducibility and
replicability; it keeps your code, data, and outputs are neatly
separated from other analyses. In the same vein, we encourage the use of
version control software — <a href="https://git-scm.com/" class="external-link">git</a> in
particular. It helps you keep track of changes, undo snafus, and
seamlessly collaborate with your peers.</p>
<p>While you could create a version-controlled R project manually, we
suggest using the tools provided by the <a href="https://usethis.r-lib.org/index.html" class="external-link"><code>usethis</code></a> R
package. Here’s a brief workflow:</p>
<ol style="list-style-type: decimal">
<li>Install the most recent release of this package by running
<code>install.packages("usethis")</code>.</li>
<li>Create the project using
<code><a href="https://usethis.r-lib.org/reference/create_package.html" class="external-link">usethis::create_project()</a></code>.</li>
<li>Initialize a git repository with <code><a href="https://usethis.r-lib.org/reference/use_git.html" class="external-link">usethis::use_git()</a></code>.
Call this function from the root of your simulation project
directory,</li>
<li>(Optional) Link you local project to a project on GitHub by running
<code><a href="https://usethis.r-lib.org/reference/use_github.html" class="external-link">usethis::use_github()</a></code>.</li>
</ol>
<p>If you’re unfamiliar with git or GitHub, or haven’t yet set git up on
you machine, we suggest reviewing Chapters 4 through 8 of <a href="https://happygitwithr.com/index.html" class="external-link"><em>Happy Git and GitHub for
the useR</em></a>.</p>
<p>Once your project is set up, we recommend organizing your project
with the following directories and files:</p>
<ul>
<li>
<code>R/</code>: This folder will contain your simulation study’s R
code.
<ul>
<li>
<code>meal.R</code>: Your <code>simChef</code> experiment is
assembled in this file.</li>
<li>
<code>dgp/</code>: Data-generating process functions are stored
here.</li>
<li>
<code>method/</code>: Method functions are stored here.</li>
<li>
<code>eval/</code>: Evaluator functions are stored here.</li>
<li>
<code>viz/</code>: Visualizer functions are stored here.</li>
</ul>
</li>
<li>
<code>results/</code>: Your simulation experiment’s output are
automatically saved here.</li>
<li>
<code>README.md</code>: This markdown file briefly summarizes your
simulation study’s goals and results. Some guidance on navigating your
project’s directory structure might also be appreciated by your
collaborators — and even yourself at some point in the future.</li>
</ul>
<p>You might consider including the following directories, too: -
<code>tests/</code>: Unit tests promote high-quality code by ensuring
that your many functions operate as expected. Your simulation study’s
results are in turn more trustworthy. We recommend using the <a href="https://testthat.r-lib.org/" class="external-link"><code>testthat</code></a> R package’s
suite of unit testing tools, and including the following files and
sub-directories: - <code>testthat.R</code>: This script should call
<code><a href="https://testthat.r-lib.org/reference/test_dir.html" class="external-link">testthat::test_dir()</a></code> on the following sub-directories to
run the tests contained therein. - <code>testthat/dgp-tests/</code>:
Tests for data-generating process functions. -
<code>testthat/method-tests/</code>: Tests for method functions. -
<code>testthat/eval-tests/</code>: Tests for evaluator functions. -
<code>testthat/viz-tests/</code>: Tests for visualizer functions. -
<code>scripts/</code>: We recommend running resource-intense simulation
studies on high-performance computing environments with workload
managers, like <a href="https://slurm.schedmd.com/documentation.html" class="external-link">SLURM</a>. Bash
scripts for doing so can be saved here. For added flexibility, we
recommend the R package <a href="https://github.com/trevorld/r-optparse" class="external-link"><code>optparse</code></a>
to parse command-line options from your bash scripts within
<code>meal.R</code>. - <code>logs/</code>: The files output by these
workload managers can be stored in this directory.</p>
<p>Again with reproducibility and replicability in mind, we encourage
the use of <a href="https://cran.r-project.org/web/packages/renv/index.html" class="external-link"><code>renv</code></a>
for project-local dependency management. The general <code>renv</code>
workflow can be found <a href="https://rstudio.github.io/renv/articles/renv.html" class="external-link">here</a>. Note
that initializing this tool generates an <code>renv/</code> directory
and <code>renv.lock</code> file in the root directory.</p>
<p>Of course, this project structure, as well as the names of
directories and files, are nothing but suggestions. Feel free to
organize your simulation study as best you see fit. You might find some
inspiration <a href="https://github.com/openpharma/mmrm/tree/main/simulations" class="external-link">here</a>
and <a href="https://github.com/PhilBoileau/simChef-case-study" class="external-link">here</a>.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by James Duncan, Tiffany Tang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
