<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting started with simChef • simChef</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with simChef">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simChef</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/simChef.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cheat-sheet.html">Cheat sheet: Inputs/outputs for user-defined functions</a></li>
    <li><a class="dropdown-item" href="../articles/parallel.html">Computing experimental replicates in parallel</a></li>
    <li><a class="dropdown-item" href="../articles/simChef-full.html">simChef: A comprehensive guide</a></li>
    <li><a class="dropdown-item" href="../articles/simulation-directory-setup.html">Setting Up Your Simulation Study</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Yu-Group/simChef/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started with simChef</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Yu-Group/simChef/blob/main/vignettes/simChef.Rmd" class="external-link"><code>vignettes/simChef.Rmd</code></a></small>
      <div class="d-none name"><code>simChef.Rmd</code></div>
    </div>

    
    
<div class="section level2" number="1">
<h2 id="overview">
<span class="header-section-number">1</span> Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Welcome to <code>simChef</code>! Our goal is to empower data scientists to focus their attention toward scientific best practices by removing the administrative burdens of simulation design. Using <code>simChef</code>, practitioners can seamlessly and efficiently run simulation experiments using an intuitive <a href="https://design.tidyverse.org/" class="external-link">tidy
grammar</a>. The core features of <code>simChef</code> include:</p>
<ol style="list-style-type: decimal">
<li>A tidyverse-inspired grammar of data-driven simulation experiments</li>
<li>A growing built-in library of composable building blocks for evaluation metrics and visualization utilities</li>
<li>Flexible and seamless integration with distributed computation, caching, checkpointing, and debugging tools</li>
<li>Automated generation of an R Markdown document to easily navigate, visualize, and interpret simulation results (see example <a href="../example_experiment.html">here</a>)</li>
</ol>
<p>To highlight the ease of running simulation studies using <code>simChef</code>, we will begin by showcasing a basic example usage in Section <a href="#example-usage">2</a>. Then, in Section <a href="#writing-your-own-simulation-experiment">4</a>, we will provide additional details on how to create your own simulation experiment using <code>simChef</code>.</p>
</div>
<div class="section level2" number="2">
<h2 id="example-usage">
<span class="header-section-number">2</span> Example usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h2>
<blockquote>
<p><strong>Simulation Example:</strong> Suppose, for concreteness, that we would like to evaluate the prediction accuracy of two methods (linear regression and random forests) under a linear data-generating process across different signal-to-noise ratios.</p>
</blockquote>
<p>At its core, <code>simChef</code> breaks down a simulation experiment into four components:</p>
<ul>
<li>
<code><a href="../reference/DGP.html">DGP()</a></code>: the data-generating processes (DGPs) from which to <em>generate</em> data</li>
<li>
<code><a href="../reference/Method.html">Method()</a></code>: the methods (or models) to <em>fit</em> on the data in the experiment</li>
<li>
<code><a href="../reference/Evaluator.html">Evaluator()</a></code>: the evaluation metrics used to <em>evaluate</em> the methods’ performance</li>
<li>
<code><a href="../reference/Visualizer.html">Visualizer()</a></code>: the visualization procedures used to <em>visualize</em> outputs from the method fits or evaluation results (can be tables, plots, or even R Markdown snippets to display)</li>
</ul>
<p>Using these components, users can easily run a simulation experiment in six simple steps. Below, we summarize these steps and provide code for our running example.</p>
<div class="section level3">
<h3 id="step-1--define-dgp-method-evaluation-and-visualization-functions-of-interest-">Step 1. Define DGP, method, evaluation, and visualization functions of interest.<a class="anchor" aria-label="anchor" href="#step-1--define-dgp-method-evaluation-and-visualization-functions-of-interest-"></a>
</h3>
<p>Recall that in our simulation example, we would like to study two methods (linear regression and random forests) under a linear DGP. We code this DGP (<code>linear_dgp_fun</code>) and methods (<code>linear_reg_fun</code> and <code>rf_fun</code>) via custom functions below.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Linear Data-Generating Process</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @description Generate training and test data according to the classical</span></span>
<span><span class="co">#'   linear regression model: y = X*beta + noise.</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @param n_train Number of training samples.</span></span>
<span><span class="co">#' @param n_test Number of training samples.</span></span>
<span><span class="co">#' @param p Number of features.</span></span>
<span><span class="co">#' @param beta Coefficient vector in linear regression function.</span></span>
<span><span class="co">#' @param noise_sd Standard deviation of additive noise term.</span></span>
<span><span class="va">linear_dgp_fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n_train</span>, <span class="va">n_test</span>, <span class="va">p</span>, <span class="va">beta</span>, <span class="va">noise_sd</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">n</span> <span class="op">&lt;-</span> <span class="va">n_train</span> <span class="op">+</span> <span class="va">n_test</span></span>
<span>  <span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span> <span class="op">*</span> <span class="va">p</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="va">n</span>, ncol <span class="op">=</span> <span class="va">p</span><span class="op">)</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="va">X</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">beta</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, sd <span class="op">=</span> <span class="va">noise_sd</span><span class="op">)</span></span>
<span>  <span class="va">data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    X_train <span class="op">=</span> <span class="va">X</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">n_train</span>, , drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span>,</span>
<span>    y_train <span class="op">=</span> <span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">n_train</span><span class="op">]</span>,</span>
<span>    X_test <span class="op">=</span> <span class="va">X</span><span class="op">[</span><span class="op">(</span><span class="va">n_train</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="va">n</span>, , drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span>,</span>
<span>    y_test <span class="op">=</span> <span class="va">y</span><span class="op">[</span><span class="op">(</span><span class="va">n_train</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="va">n</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Linear Regression Method</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @param X_train Training data matrix.</span></span>
<span><span class="co">#' @param y_train Training response vector.</span></span>
<span><span class="co">#' @param X_test Test data matrix.</span></span>
<span><span class="co">#' @param y_test Test response vector.</span></span>
<span><span class="va">linear_reg_fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">X_train</span>, <span class="va">y_train</span>, <span class="va">X_test</span>, <span class="va">y_test</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">train_df</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">X_train</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">y_train</span><span class="op">)</span></span>
<span>  <span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train_df</span><span class="op">)</span></span>
<span>  <span class="va">predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">X_test</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>predictions <span class="op">=</span> <span class="va">predictions</span>, y_test <span class="op">=</span> <span class="va">y_test</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' Random Forest Method</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @param X_train Training data matrix.</span></span>
<span><span class="co">#' @param y_train Training response vector.</span></span>
<span><span class="co">#' @param X_test Test data matrix.</span></span>
<span><span class="co">#' @param y_test Test response vector.</span></span>
<span><span class="co">#' @param ... Additional arguments to pass to `ranger::ranger()`</span></span>
<span><span class="va">rf_fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">X_train</span>, <span class="va">y_train</span>, <span class="va">X_test</span>, <span class="va">y_test</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">train_df</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">X_train</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">y_train</span><span class="op">)</span></span>
<span>  <span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">ranger</span><span class="fu">::</span><span class="fu"><a href="http://imbs-hl.github.io/ranger/reference/ranger.html" class="external-link">ranger</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train_df</span>, <span class="va">...</span><span class="op">)</span></span>
<span>  <span class="va">predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">X_test</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">predictions</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>predictions <span class="op">=</span> <span class="va">predictions</span>, y_test <span class="op">=</span> <span class="va">y_test</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We can similarly write custom functions to evaluate the prediction accuracy of these methods and to visualize results. However, <code>simChef</code> also provides a built-in library of helper functions for common evaluation and visualization needs. We leverage this library for convenience here. In particular, for prediction tasks, we will use the functions <code><a href="../reference/eval_pred_err_funs.html">simChef::summarize_pred_err()</a></code> and <code><a href="../reference/plot_pred_err.html">simChef::plot_pred_err()</a></code> to evaluate and plot the prediction error between the observed and predicted responses, respectively. For details, see <code><a href="../reference/eval_pred_err_funs.html">? simChef::summarize_pred_err</a></code> and <code><a href="../reference/plot_pred_err.html">? simChef::plot_pred_err</a></code>.</p>
<p><em>Note</em>: Most of the user-written code is encapsulated by Step 1. From here, there is minimal coding on the user end as we turn to leverage the <code>simChef</code> grammar for experiments.</p>
</div>
<div class="section level3">
<h3 id="step-2--convert-functions-into-dgp-method-evaluator-and-visualizer-class-objects-">Step 2. Convert functions into <code>DGP()</code>, <code>Method()</code>, <code>Evaluator()</code>, and <code>Visualizer()</code> class objects.<a class="anchor" aria-label="anchor" href="#step-2--convert-functions-into-dgp-method-evaluator-and-visualizer-class-objects-"></a>
</h3>
<p>Once we have specified the relevant DGP, method, evaluation, and visualization functions, the next step is to convert these functions into <code><a href="../reference/DGP.html">DGP()</a></code>, <code><a href="../reference/Method.html">Method()</a></code>, <code><a href="../reference/Evaluator.html">Evaluator()</a></code>, and <code><a href="../reference/Visualizer.html">Visualizer()</a></code> class objects (<code>R6</code>) for <code>simChef</code>. To do so, we simply wrap the functions in <code><a href="../reference/create_dgp.html">create_dgp()</a></code>, <code><a href="../reference/create_method.html">create_method()</a></code>, <code><a href="../reference/create_evaluator.html">create_evaluator()</a></code>, or <code><a href="../reference/create_visualizer.html">create_visualizer()</a></code>, while specifying (a) an intelligible name for the object and (b) any input parameters to pass to the function. For example,</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## DGPs</span></span>
<span><span class="va">linear_dgp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_dgp.html">create_dgp</a></span><span class="op">(</span></span>
<span>  .dgp_fun <span class="op">=</span> <span class="va">linear_dgp_fun</span>, .name <span class="op">=</span> <span class="st">"Linear DGP"</span>,</span>
<span>  <span class="co"># additional named parameters to pass to .dgp_fun()</span></span>
<span>  n_train <span class="op">=</span> <span class="fl">200</span>, n_test <span class="op">=</span> <span class="fl">200</span>, p <span class="op">=</span> <span class="fl">2</span>, beta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, noise_sd <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Methods</span></span>
<span><span class="va">linear_reg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_method.html">create_method</a></span><span class="op">(</span></span>
<span>  .method_fun <span class="op">=</span> <span class="va">linear_reg_fun</span>, .name <span class="op">=</span> <span class="st">"Linear Regression"</span></span>
<span>  <span class="co"># additional named parameters to pass to .method_fun()</span></span>
<span><span class="op">)</span></span>
<span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_method.html">create_method</a></span><span class="op">(</span></span>
<span>  .method_fun <span class="op">=</span> <span class="va">rf_fun</span>, .name <span class="op">=</span> <span class="st">"Random Forest"</span>, </span>
<span>  <span class="co"># additional named parameters to pass to .method_fun()</span></span>
<span>  num.threads <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Evaluators</span></span>
<span><span class="va">pred_err</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_evaluator.html">create_evaluator</a></span><span class="op">(</span></span>
<span>  .eval_fun <span class="op">=</span> <span class="va">summarize_pred_err</span>, .name <span class="op">=</span> <span class="st">'Prediction Accuracy'</span>,</span>
<span>  <span class="co"># additional named parameters to pass to .eval_fun()</span></span>
<span>  truth_col <span class="op">=</span> <span class="st">"y_test"</span>, estimate_col <span class="op">=</span> <span class="st">"predictions"</span></span>
<span><span class="op">)</span> </span>
<span></span>
<span><span class="co">## Visualizers</span></span>
<span><span class="va">pred_err_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_visualizer.html">create_visualizer</a></span><span class="op">(</span></span>
<span>  .viz_fun <span class="op">=</span> <span class="va">plot_pred_err</span>, .name <span class="op">=</span> <span class="st">'Prediction Accuracy Plot'</span>,</span>
<span>  <span class="co"># additional named parameters to pass to .viz_fun()</span></span>
<span>  eval_name <span class="op">=</span> <span class="st">'Prediction Accuracy'</span></span>
<span><span class="op">)</span> </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-3--assemble-recipe-parts-into-a-complete-simulation-experiment-">Step 3. Assemble recipe parts into a complete simulation experiment.<a class="anchor" aria-label="anchor" href="#step-3--assemble-recipe-parts-into-a-complete-simulation-experiment-"></a>
</h3>
<p>Thus far, we have created the many individual components (i.e., <code>DGP(s)</code>, <code>Method(s)</code>, <code>Evaluator(s)</code>, and <code>Visualizer(s)</code>) for our simulation experiment. We next assemble or <code>add</code> these components together to create a complete simulation experiment recipe via:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">experiment</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_experiment.html">create_experiment</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Example Experiment"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_dgp</a></span><span class="op">(</span><span class="va">linear_dgp</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_method</a></span><span class="op">(</span><span class="va">linear_reg</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_method</a></span><span class="op">(</span><span class="va">rf</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_evaluator</a></span><span class="op">(</span><span class="va">pred_err</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_visualizer</a></span><span class="op">(</span><span class="va">pred_err_plot</span><span class="op">)</span></span></code></pre></div>
<p>We can also vary across one or more parameters in the <code>DGP(s)</code> and/or <code>Method(s)</code> by adding a <code>vary_across</code> component to the simulation experiment recipe. In the running simulation example, we would like to vary across the amount of noise (<code>noise_sd</code>) in the underlying DGP, which can be done as follows:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">experiment</span> <span class="op">&lt;-</span> <span class="va">experiment</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/vary_across.html">add_vary_across</a></span><span class="op">(</span>.dgp <span class="op">=</span> <span class="st">"Linear DGP"</span>, noise_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><em>Tip</em>: To see a high-level summary of the simulation experiment recipe, it can be helpful to print the experiment.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">experiment</span><span class="op">)</span></span>
<span><span class="co">#&gt; Experiment Name: Example Experiment </span></span>
<span><span class="co">#&gt;    Saved results at: results/Example Experiment </span></span>
<span><span class="co">#&gt;    DGPs: Linear DGP </span></span>
<span><span class="co">#&gt;    Methods: Linear Regression, Random Forest </span></span>
<span><span class="co">#&gt;    Evaluators: Prediction Accuracy </span></span>
<span><span class="co">#&gt;    Visualizers: Prediction Accuracy Plot </span></span>
<span><span class="co">#&gt;    Vary Across: </span></span>
<span><span class="co">#&gt;       DGP: Linear DGP </span></span>
<span><span class="co">#&gt;          noise_sd:  num [1:4] 0.1 0.5 1 2</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-4--document-and-describe-the-simulation-experiment-in-text-">Step 4. Document and describe the simulation experiment in text.<a class="anchor" aria-label="anchor" href="#step-4--document-and-describe-the-simulation-experiment-in-text-"></a>
</h3>
<p>A crucial component when running veridical simulations is <strong>documentation</strong>. We highly encourage practitioners to document:</p>
<ul>
<li>the purpose or objective of the simulation experiment,</li>
<li>what <code>DGP(s)</code>, <code>Method(s)</code>, <code>Evaluator(s)</code>, and <code>Visualizer(s)</code> were used, and</li>
<li>why these <code>DGP(s)</code>, <code>Method(s)</code>, <code>Evaluator(s)</code>, and <code>Visualizer(s)</code> were chosen.</li>
</ul>
<p>This can and should be done before even running the simulation experiment. To facilitate this tedious but important process, we can easily initialize a documentation template to fill out using</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/init_docs.html">init_docs</a></span><span class="op">(</span><span class="va">experiment</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-5--run-the-experiment-">Step 5. Run the experiment.<a class="anchor" aria-label="anchor" href="#step-5--run-the-experiment-"></a>
</h3>
<p>At this point, we have created and documented the simulation experiment recipe, but we have not generated any results from the experiment. That is, we have only given the simulation experiment instructions on what to do. To run the experiment, say over 100 replicates, we can do so via</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_experiment.html">run_experiment</a></span><span class="op">(</span><span class="va">experiment</span>, n_reps <span class="op">=</span> <span class="fl">100</span>, save <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in get(paste0(generic, ".", class), envir = get_method_env()) : </span></span>
<span><span class="co">#&gt;   object 'type_sum.accel' not found</span></span>
<span><span class="co">#&gt; Fitting Example Experiment...</span></span>
<span><span class="co">#&gt; Saving fit results...</span></span>
<span><span class="co">#&gt; Fit results saved | time taken: 0.104239 seconds</span></span>
<span><span class="co">#&gt; 100 reps completed (totals: 100/100) | time taken: 3.281317 minutes</span></span>
<span><span class="co">#&gt; ==============================</span></span>
<span><span class="co">#&gt; Evaluating Example Experiment...</span></span>
<span><span class="co">#&gt; Evaluation completed | time taken: 0.099704 minutes</span></span>
<span><span class="co">#&gt; Saving eval results...</span></span>
<span><span class="co">#&gt; Eval results saved | time taken: 0.057545 seconds</span></span>
<span><span class="co">#&gt; ==============================</span></span>
<span><span class="co">#&gt; Visualizing Example Experiment...</span></span>
<span><span class="co">#&gt; Visualization completed | time taken: 0.001406 minutes</span></span>
<span><span class="co">#&gt; Saving viz results...</span></span>
<span><span class="co">#&gt; Viz results saved | time taken: 0.473293 seconds</span></span>
<span><span class="co">#&gt; ==============================</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-6--visualize-results-via-an-automated-r-markdown-report-">Step 6. Visualize results via an automated R Markdown report.<a class="anchor" aria-label="anchor" href="#step-6--visualize-results-via-an-automated-r-markdown-report-"></a>
</h3>
<p>Finally, to visualize and report all results from the simulation experiment, we can render the documentation. This will generate a single html document, including the code, documentation (from Step 4), and simulation results.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/render_docs.html">render_docs</a></span><span class="op">(</span><span class="va">experiment</span><span class="op">)</span></span></code></pre></div>
<p>The rendered document corresponding to this simulation example can be found <a href="../example_experiment.html">here</a>, and voila! Simulation example complete!</p>
</div>
</div>
<div class="section level2" number="3">
<h2 id="simulation-project-workflow">
<span class="header-section-number">3</span> Simulation project workflow<a class="anchor" aria-label="anchor" href="#simulation-project-workflow"></a>
</h2>
<p>For more complex simulation projects (e.g., those with multiple DGPs, methods, evaluators, visualizers, and experiment configurations), it can be helpful to split up your R code into multiple files and to thoughtfully organize your project directory. To facilitate this process, we recommend beginning and quick starting your simulation project with <code><a href="../reference/init_sim_project.html">init_sim_project()</a></code>, which initializes a ready-to-use directory for your <code>simChef</code> simulation project:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/init_sim_project.html">init_sim_project</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"path/to/your/project"</span><span class="op">)</span></span></code></pre></div>
<p>This will create a project directory with the following structure:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>project<span class="sc">/</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>├── .git</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>├── .gitignore</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>├── R           <span class="co"># folder containing general R functions</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>│   ├── dgp     <span class="do">## folder containing dgp functions</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>│   ├── eval    <span class="do">## folder containing evaluation functions</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>│   ├── method  <span class="do">## folder containing method functions</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>│   └── viz     <span class="do">## folder containing visualization functions</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>├── README.md</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>├── meals       <span class="co"># folder containing scripts to assemble/run simulation experiments</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>│   └── meal.R  <span class="do">## example script to assemble/run a simulation experiment</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>├── renv</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>├── results     <span class="co"># folder containing results from simulation experiments</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>└── tests       <span class="co"># folder containing test scripts</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>    ├── testthat</span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>    │   ├── dgp<span class="sc">-</span>tests     <span class="do">## folder containing tests for dgp functions</span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>    │   ├── eval<span class="sc">-</span>tests    <span class="do">## folder containing tests for evaluation functions</span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>    │   ├── method<span class="sc">-</span>tests  <span class="do">## folder containing tests for method functions</span></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>    │   └── viz<span class="sc">-</span>tests     <span class="do">## folder containing tests for visualization functions</span></span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>    └── testthat.R</span></code></pre></div>
<p>Using this project directory structure, we recommend placing your DGP, method, evaluation, and visualization functions in the appropriate subdirectories within the <code>R</code> directory to stay modular and organized. Then, to assemble and run your simulation experiment, you can write an executable <em>meal</em> script and store it in the <code>meals</code> directory. To see what this project directory structure may look like in practice for our toy simulation, check out this <a href="https://github.com/tiffanymtang/simChef-project" class="external-link">GitHub repository</a>.</p>
<p>Moreover, <code><a href="../reference/init_sim_project.html">init_sim_project()</a></code> automatically integrates your simulation project with several major reproducibility and replicability tools, including <code>git</code> (for version control), <code>renv</code> (for management of package dependencies), and <code>testthat</code> (for unit testing). For more information and other best practices to improve reproducibility and replicability of your simulation study, please see the vignette <a href="simulation-directory-setup.html">Setting up your simulation study</a>.</p>
<p>In the next section, we will provide additional details necessary for you to create your own simulation experiment.</p>
</div>
<div class="section level2" number="4">
<h2 id="writing-your-own-simulation-experiment">
<span class="header-section-number">4</span> Writing your own simulation experiment<a class="anchor" aria-label="anchor" href="#writing-your-own-simulation-experiment"></a>
</h2>
<p>When it comes to writing your own simulation experiment using <code>simChef</code>, the main task is writing the necessary DGP, method, evaluation, and visualization functions for the experiment (i.e,. step 1 above).
Once these functions are appropriately written/specified, <code>simChef</code> takes care of the rest, with steps 2-6 requiring very little effort from the user.</p>
<p>Thus, focusing on step 1, it is helpful to understand the inputs and outputs that are necessary for writing each user-defined function. To do so, let us walk through what happens when we run a <code>simChef</code> <code>Experiment</code> and highlight the necessary inputs and outputs to these functions as we go.</p>
<div class="section level3">
<h3 id="overivew-of-running-an-experiment">Overivew of running an experiment<a class="anchor" aria-label="anchor" href="#overivew-of-running-an-experiment"></a>
</h3>
<p>At the highest level, running an experiment (via <code><a href="../reference/run_experiment.html">run_experiment()</a></code>) consists of three main steps (see Figure <a href="#fig:run-experiment-figure">4.1</a>):</p>
<ol style="list-style-type: decimal">
<li>
<strong>Fit</strong> each <code>Method</code> on each <code>DGP</code> (and for each of the varying parameter configurations specified in <code>vary_across</code>) via <code><a href="../reference/fit_experiment.html">fit_experiment()</a></code>.</li>
<li>
<strong>Evaluate</strong> the experiment according to each <code>Evaluator</code> via <code><a href="../reference/evaluate_experiment.html">evaluate_experiment()</a></code>.</li>
<li>
<strong>Visualize</strong> the experiment according to each <code>Visualizer</code> via <code><a href="../reference/visualize_experiment.html">visualize_experiment()</a></code>.</li>
</ol>
<p><code><a href="../reference/run_experiment.html">run_experiment()</a></code> is simply a wrapper around these three functions: <code><a href="../reference/fit_experiment.html">fit_experiment()</a></code>, <code><a href="../reference/evaluate_experiment.html">evaluate_experiment()</a></code>, and <code><a href="../reference/visualize_experiment.html">visualize_experiment()</a></code>.</p>
<div class="float">
<img src="figures%2Frun_experiment.png" style="width:100.0%" alt=" Overview of running a simChef Experiment. The Experiment class handles relationships among the four classes: DGP(), Method(), Evaluator(), and Visualizer(). Experiments may have multiple DGPs and Methods, which are combined across the Cartesian product of their varying parameters (represented by *). Once computed, each Evaluator and Visualizer takes in the fitted simulation replicates, while Visualizer additionally receives evaluation summaries."><div class="figcaption"> Overview of running a <code>simChef</code> <code>Experiment</code>. The <code>Experiment</code> class handles relationships among the four classes: <code><a href="../reference/DGP.html">DGP()</a></code>, <code><a href="../reference/Method.html">Method()</a></code>, <code><a href="../reference/Evaluator.html">Evaluator()</a></code>, and <code><a href="../reference/Visualizer.html">Visualizer()</a></code>. Experiments may have multiple <code>DGPs</code> and <code>Methods</code>, which are combined across the Cartesian product of their varying parameters (represented by *). Once computed, each <code>Evaluator</code> and <code>Visualizer</code> takes in the fitted simulation replicates, while <code>Visualizer</code> additionally receives evaluation summaries.</div>
</div>
<p>In what follows, we will discuss fitting, evaluating, and visualizing the experiment, each in turn.</p>
</div>
<div class="section level3">
<h3 id="fitting-an-experiment">Fitting an experiment<a class="anchor" aria-label="anchor" href="#fitting-an-experiment"></a>
</h3>
<p>When fitting an experiment, each <code>Method</code> is fit on each <code>DGP</code> (for each specified <code>vary_across</code> parameter configuration). As such, the outputs of the user-defined <code>DGP</code> functions should match input arguments to the user-defined <code>Method</code> functions. More specifically,</p>
<ul>
<li>
<strong>DGP inputs</strong>:
<ul>
<li>Any number of named parameters (e.g., <code>dgp_param1</code>, <code>dgp_param2</code>, …)</li>
</ul>
</li>
<li>
<strong>DGP outputs</strong>:
<ul>
<li>A list of named elements to be passed onto the method(s) (e.g., <code>dgp_out1</code>, <code>dgp_out2</code>, …)</li>
</ul>
</li>
<li>
<strong>Method inputs</strong>:
<ul>
<li>Named parameters matching all names in the list returned by the DGP function (e.g., <code>dgp_out1</code>, <code>dgp_out2</code>, …)</li>
<li>Any number of additional named parameters (e.g., <code>method_param1</code>, <code>method_param2</code>, …)</li>
</ul>
</li>
<li>
<strong>Method outputs</strong>:
<ul>
<li>A list of named elements (e.g., <code>method_out1</code>, <code>method_out2</code>, …)
[Note: this output list should contain all information necessary to evaluate and visualize the method’s performance]</li>
</ul>
</li>
</ul>
<p>Finally, <code><a href="../reference/fit_experiment.html">fit_experiment()</a></code> returns the fitted results across all experimental replicates in a <code>tibble</code>. This <code>tibble</code> contains:</p>
<ul>
<li>Identifier columns
<ul>
<li>
<code>.rep</code>: replicate ID</li>
<li>
<code>.dgp_name</code>: name of DGP</li>
<li>
<code>.method_name</code>: name of Method</li>
<li>
<code>vary_across</code> parameter columns (if applicable): value of the specified <code>vary_across</code> parameter</li>
</ul>
</li>
<li>A column corresponding to each named component in the list returned by the <code>Method</code> (e.g., <code>method_out1</code>, <code>method_out2</code>, …)</li>
</ul>
<p>We summarize these inputs and outputs in Figure <a href="#fig:fit-experiment-figure">4.2</a>.</p>
<div class="float">
<img src="figures%2Ffit_experiment.png" style="width:100.0%" alt=" Overview of fitting a simChef Experiment. Inputs and outputs for user-defined functions are also provided."><div class="figcaption"> Overview of fitting a <code>simChef</code> <code>Experiment</code>. Inputs and outputs for user-defined functions are also provided.</div>
</div>
</div>
<div class="section level3">
<h3 id="evaluating-an-experiment">Evaluating an experiment<a class="anchor" aria-label="anchor" href="#evaluating-an-experiment"></a>
</h3>
<p>Next, when evaluating an experiment, the output of <code><a href="../reference/fit_experiment.html">fit_experiment()</a></code> (i.e., <code>fit_results</code> from Figure <a href="#fig:fit-experiment-figure">4.2</a>) as well as a character vector of the <code>vary_across</code> parameter names (i.e., <code>vary_params</code>) are automatically passed to each <code>Evaluator</code> function.
Typically, an <code>Evaluator</code> takes the <code>fit_results</code> tibble in as input, evaluates some metric(s) on each row or group of rows (e.g., summarizing across replicates), and returns the resulting <code>tibble</code> or <code>data.frame</code>.
We summarize the relevant inputs and outputs below and in Figure <a href="#fig:eval-experiment-figure">4.3</a>.</p>
<ul>
<li>
<strong>Evaluator inputs</strong>:
<ul>
<li>
<code>fit_results</code> (optional): output of <code><a href="../reference/fit_experiment.html">fit_experiment()</a></code>
</li>
<li>
<code>vary_params</code> (optional): character vector of parameter names that are varied across in the experiment</li>
<li>Any number of additional named parameters (e.g., <code>eval_param1</code>, <code>eval_param2</code>, …)</li>
</ul>
</li>
<li>
<strong>Evaluator outputs</strong>:
<ul>
<li>Typically a <code>tibble</code> or <code>data.frame</code>
</li>
</ul>
</li>
</ul>
<p>The output of <code>evaluate_experiment</code> is a named list of evaluation result tibbles, one component for each <code>Evaluator</code> in the experiment. Here, the list names correspond to the names given to each <code>Evaluator</code> in <code>create_evaluator(.name = ...)</code>, and the list elements are exactly the return value from the <code>Evaluator</code> function.</p>
<div class="float">
<img src="figures%2Feval_experiment.png" style="width:100.0%" alt=" Overview of evaluating a simChef Experiment. Inputs and outputs for user-defined functions are also provided. Dotted boxes denote optional input arguments."><div class="figcaption"> Overview of evaluating a <code>simChef</code> <code>Experiment</code>. Inputs and outputs for user-defined functions are also provided. Dotted boxes denote optional input arguments.</div>
</div>
</div>
<div class="section level3">
<h3 id="visualizing-an-experiment">Visualizing an experiment<a class="anchor" aria-label="anchor" href="#visualizing-an-experiment"></a>
</h3>
<p>In the last step, when visualizing an experiment, the output of <code><a href="../reference/fit_experiment.html">fit_experiment()</a></code> and <code>evaluate_experiment</code> (<code>fit_results</code> and <code>eval_results</code>, respectively) as well as <code>vary_params</code> are automatically passed to each <code>Visualizer</code> function.
Typically, a <code>Visualizer</code> takes in the <code>fit_results</code> and/or <code>eval_results</code> and constructs a plot to visualize the performance of various methods (perhaps, across the varying parameter specified by <code>vary_params</code>).
We summarize the relevant inputs and outputs below and in Figure <a href="#fig:viz-experiment-figure">4.4</a>.</p>
<ul>
<li>
<strong>Visualizer inputs</strong>:
<ul>
<li>
<code>fit_results</code> (optional): output of <code><a href="../reference/fit_experiment.html">fit_experiment()</a></code>
</li>
<li>
<code>eval_results</code> (optional): output of <code><a href="../reference/evaluate_experiment.html">evaluate_experiment()</a></code>
</li>
<li>
<code>vary_params</code> (optional): character vector of parameter names that are varied across in the experiment</li>
<li>Any number of additional named parameters (e.g., <code>viz_param1</code>, <code>viz_param2</code>, …)</li>
</ul>
</li>
<li>
<strong>Visualizer outputs</strong>:
<ul>
<li>Typically a plot (e.g., a <code>ggplot</code> or <code>plotly</code> object)</li>
</ul>
</li>
</ul>
<p>The output of <code>visualize_experiment</code> is a named list of visualizations or plots, one component for each <code>Visualizer</code> in the experiment. Here, the list names correspond to the names given to each <code>Visualizer</code> in <code>create_visualizer(.name = ...)</code>, and the list elements are exactly the return value from the <code>Visualizer</code> function.</p>
<div class="float">
<img src="figures%2Fviz_experiment.png" style="width:100.0%" alt=" Overview of visualizing a simChef Experiment. Inputs and outputs for user-defined functions are also provided. Dotted boxes denote optional input arguments."><div class="figcaption"> Overview of visualizing a <code>simChef</code> <code>Experiment</code>. Inputs and outputs for user-defined functions are also provided. Dotted boxes denote optional input arguments.</div>
</div>
</div>
<div class="section level3">
<h3 id="putting-it-all-together">Putting it all together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h3>
<p>As alluded to previously, once the <code>DGP</code>, <code>Method</code>, <code>Evaluator</code>, and <code>Visualizer</code> functions have been defined, the hard work has been done. For convenience, we provide below a template that can be used to run an experiment, assuming that <code>dgp_fun</code>, <code>method_fun</code>, <code>evaluator_fun</code>, and <code>visualizer_fun</code> have been appropriately defined.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Step 2: Create DGP, Method, Evaluator, Visualizer class objects</span></span>
<span><span class="va">dgp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_dgp.html">create_dgp</a></span><span class="op">(</span></span>
<span>  .dgp_fun <span class="op">=</span> <span class="va">dgp_fun</span>, .name <span class="op">=</span> <span class="st">"DGP Name"</span>,</span>
<span>  <span class="co"># additional named parameters to pass to .dgp_fun()</span></span>
<span>  dgp_param1 <span class="op">=</span> <span class="va">XXX</span>, dgp_param2 <span class="op">=</span> <span class="va">XXX</span>, <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span><span class="va">method</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_method.html">create_method</a></span><span class="op">(</span></span>
<span>  .method_fun <span class="op">=</span> <span class="va">method_fun</span>, .name <span class="op">=</span> <span class="st">"Method Name"</span>,</span>
<span>  <span class="co"># additional named parameters to pass to .method_fun()</span></span>
<span>  method_param1 <span class="op">=</span> <span class="va">XXX</span>, method_param2 <span class="op">=</span> <span class="va">XXX</span>, <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span><span class="va">evaluator</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_evaluator.html">create_evaluator</a></span><span class="op">(</span></span>
<span>  .eval_fun <span class="op">=</span> <span class="va">evaluator_fun</span>, .name <span class="op">=</span> <span class="st">"Evaluator Name"</span>,</span>
<span>  <span class="co"># additional named parameters to pass to .eval_fun()</span></span>
<span>  eval_param1 <span class="op">=</span> <span class="va">XXX</span>, eval_param2 <span class="op">=</span> <span class="va">XXX</span>, <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span><span class="va">visualizer</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_visualizer.html">create_visualizer</a></span><span class="op">(</span></span>
<span>  .viz_fun <span class="op">=</span> <span class="va">visualizer_fun</span>, .name <span class="op">=</span> <span class="st">"Visualizer Name"</span>,</span>
<span>  <span class="co"># additional named parameters to pass to .viz_fun()</span></span>
<span>  viz_param1 <span class="op">=</span> <span class="va">XXX</span>, viz_param2 <span class="op">=</span> <span class="va">XXX</span>, <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Step 3: Assemble experiment recipe</span></span>
<span><span class="va">experiment</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_experiment.html">create_experiment</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Experiment Name"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_dgp</a></span><span class="op">(</span><span class="va">dgp</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_method</a></span><span class="op">(</span><span class="va">method</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_evaluator</a></span><span class="op">(</span><span class="va">evaluator</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_funs.html">add_visualizer</a></span><span class="op">(</span><span class="va">visualizer</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># optionally vary across DGP parameter(s)</span></span>
<span>  <span class="fu"><a href="../reference/vary_across.html">add_vary_across</a></span><span class="op">(</span>.dgp <span class="op">=</span> <span class="st">"DGP Name"</span>, dgp_param1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">XXX</span>, <span class="va">XXX</span>, <span class="va">...</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># optionally vary across Method parameter(s)</span></span>
<span>  <span class="fu"><a href="../reference/vary_across.html">add_vary_across</a></span><span class="op">(</span>.method <span class="op">=</span> <span class="st">"Method Name"</span>, method_param1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">XXX</span>, <span class="va">XXX</span>, <span class="va">...</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Step 4: Document experiment recipe</span></span>
<span><span class="fu"><a href="../reference/init_docs.html">init_docs</a></span><span class="op">(</span><span class="va">experiment</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Step 5: Run experiment</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_experiment.html">run_experiment</a></span><span class="op">(</span><span class="va">experiment</span>, n_reps <span class="op">=</span> <span class="fl">100</span>, save <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Step 6: Render experiment documentation and results</span></span>
<span><span class="fu"><a href="../reference/render_docs.html">render_docs</a></span><span class="op">(</span><span class="va">experiment</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2" number="5">
<h2 id="additional-resources">
<span class="header-section-number">5</span> Additional Resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a>
</h2>
<p>For more information on <code>simChef</code> and additional features, check out:</p>
<ul>
<li>
<a href="https://jpdunc23.github.io/simChef-culinary-school/slides/slides.html" class="external-link">simChef culinary school</a> (tutorial slides)</li>
<li>
<a href="parallel.html">Computing experimental replicates in parallel</a> (vignette)</li>
<li>
<a href="simulation-directory-setup.html">Setting up your simulation study</a> (vignette)</li>
<li>
<a href="cheat-sheet.Rmd">Cheat sheet: Inputs/outputs for user-defined functions</a> (vignette)</li>
<li>
<a href="simChef-full.html">simChef: A comprehensive guide</a> (vignette) for information on caching, checkpointing, error debugging, common simulation experiment templates, and more</li>
<li>
<a href="https://github.com/PhilBoileau/simChef-case-study" class="external-link">Case Study #1</a> using <code>simChef</code> to develop a new flexible approach for predictive biomarker discovery with rendered documentation <a href="https://philboileau.github.io/simChef-case-study/results/empirical-fdr-comparison/empirical-fdr-comparison.html" class="external-link">here</a>
</li>
</ul>
<p>Additional <code>simChef</code> examples/case studies and built-in library functions are still to come. Stay tuned!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tiffany Tang, James Duncan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
