<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Helps cook up the code necessary to create a fully-realized,
    high-quality, reproducible, and transparently documented simulation
    experiment.">
<title>Intensive Computational Experiments Made Easy • simChef</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Intensive Computational Experiments Made Easy">
<meta property="og:description" content="Helps cook up the code necessary to create a fully-realized,
    high-quality, reproducible, and transparently documented simulation
    experiment.">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">simChef</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.0.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/simChef.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/parallel.html">Computing experimental replicates in parallel</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Yu-Group/simChef/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="simchef">simChef<a class="anchor" aria-label="anchor" href="#simchef"></a>
</h1></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The goal of <code>simChef</code> is to help you quickly cook up a fully-realized, high-quality, reproducible, and transparently documented simulation study using an intuitive and tidy grammar of simulation experiments:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">experiment</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_experiment.html">create_experiment</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/add_funs.html">add_dgp</a></span><span class="op">(</span><span class="va">dgp1</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/add_funs.html">add_dgp</a></span><span class="op">(</span><span class="va">dgp2</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/add_funs.html">add_method</a></span><span class="op">(</span><span class="va">method1</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/vary_across.html">add_vary_across</a></span><span class="op">(</span>
    dgp <span class="op">=</span> <span class="va">dgp1</span>,
    n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1000</span>, <span class="fl">10000</span><span class="op">)</span>
  <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/vary_across.html">add_vary_across</a></span><span class="op">(</span>
    method <span class="op">=</span> <span class="va">method1</span>,
    lambda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="fl">1.0</span><span class="op">)</span>
  <span class="op">)</span>

<span class="va">results</span> <span class="op">&lt;-</span> <span class="va">experiment</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/run_experiment.html">run_experiment</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p><code>simChef</code> is under active development. To install the package directly from GitHub, please use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Yu-Group/simChef"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="concepts">Concepts<a class="anchor" aria-label="anchor" href="#concepts"></a>
</h3>
<p>In <code>simChef</code>, simulation studies are decomposed into <strong>five</strong> intuitive concepts: experiments, data-generating processes, methods, evaluations, and visualizations. A simulation can either be contained in a single <strong>experiment</strong> or divided into multiple self-contained experiments which are like small simulations studies in their own right. Every experiment is in turn composed of four parts, two of which are optional (but highly recommended): <strong>data-generating processes</strong> (DGPs), <strong>methods</strong>, <strong>evaluation</strong> (optional), and <strong>visualization</strong> (optional).</p>
<p><code>simChef</code> takes an object-oriented approach to encapsulate these simulation concepts, using <a href="https://r6.r-lib.org/index.html" class="external-link"><code>R6</code></a> classes to make them concrete. The five main objects are:</p>
<ul>
<li>
<code>Experiment</code>: corresponds to the <strong>experiment</strong> concept. As you can probably guess, this class is the main powerhouse of the simulation, collecting related DGPs and methods, keeping track of what parameters to vary, checkpointing and saving results, and producing evaluations metrics, visualizations, and documentation so that the simulation’s findings can be understood and easily communicated. Moreover, it uses <a href="https://future.futureverse.org/" class="external-link"><code>future</code></a> to compute experimental replicates in parallel using whatever resources you choose.</li>
<li>
<code>DGP</code>: corresponds to the <strong>data-generating process</strong> concept. DGPs simply generate synthetic data in a reproducible and flexible manner, in the size and manner that you specify. For a library of preset but highly customizable DGPs, including support for data-driven DGPs to give added realism to your synthetic data, <code>simChef</code> has a sibling R package, <a href="https://yu-group.github.io/dgpoix" class="external-link"><code>dgpoix</code></a> (currently in early development).</li>
<li>
<code>Method</code>: corresponds to the <strong>method</strong> concept, which can be either a baseline, a target of the simulation study, or any means by which to transform the raw synthetic data. Together with DGPs, methods make up the main computational course of the <code>simChef</code> meal.</li>
<li>
<code>Evaluator</code>: corresponds to the <strong>evaluation</strong> concept. When computation of experimental replicates has completed, evaluators receive the results and summarize them to produce meaningful statistics about the experiment, or simply transform the results (e.g., using summary statistics). This is an optional step, but without it the experiment’s results can be much more difficult to understand and communicate.</li>
<li>
<code>Visualizer</code>: corresponds to the <strong>visualization concept</strong>. These visualizations can be applied directly to the raw experimental replicates’ outputs, can instead work with the evaluation transformations/summaries, or both. Visualizers can output anything that can be rendered in an R Markdown document: static or interactive plots, tables, strings and captured output, markdown, generic HTML, etc.</li>
</ul>
</div>
<div class="section level3">
<h3 id="simulation-study-documentation">Simulation study documentation<a class="anchor" aria-label="anchor" href="#simulation-study-documentation"></a>
</h3>
<p>When all of this is put together, the <code>Experiment</code> class can output an R Markdown document that is structured to provide a well-organized summary of a simulation study. Moreover, this document can contain multiple experiments, simply by using a common output path with each <code>Experiment</code> in the study. When the simulation is complete, you can use the <code><a href="reference/create_rmd.html">create_rmd()</a></code> helper to generate the documentation:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/create_rmd.html">create_rmd</a></span><span class="op">(</span><span class="va">experiment</span><span class="op">)</span></code></pre></div>
<p>This results in an HTML document like the one shown below:</p>
<div class="figure">
<img src="reference/figures/simchef.gif" alt=""><p class="caption">Interactive R Markdown simulation documentation</p>
</div>
<p>For more examples, including an interactive version of the simulation study documentation, see <code><a href="articles/simChef.html">vignette("simChef")</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="origins-of-simchef">Origins of <code>simChef</code>
<a class="anchor" aria-label="anchor" href="#origins-of-simchef"></a>
</h2>
<p>In their 2020 paper “Veridical Data Science”, Yu and Kumbier propose the predictability, computability, and stability (PCS) framework, a workflow and documentation for “responsible, reliable, reproducible, and transparent results across the data science life cycle”. Under the umbrella of the PCS framework, we began the process of deriving a set of guidelines tailored specifically for simulation studies, inspired by both high-quality simulation studies from the literature and our own simulations to examine the statistical properties of methods within the PCS framework.</p>
<p>While creating our own simulations, we soon found that no existing R package could fully satisfy our developing requirements. What began as a toolbox for our own simulations became <code>simChef</code>. We believe these tools will be useful for anyone intending to create their own simulation studies in R.</p>
<div class="section level3">
<h3 id="thinking-like-a-chef">Thinking like a chef<a class="anchor" aria-label="anchor" href="#thinking-like-a-chef"></a>
</h3>
<p>The development of <code>simChef</code> has been guided by our love of… cooking? Perhaps surprisingly, we found that cooking serves as useful analogy for the process of creating a simulation study. Consider the following components of a high-quality meal:</p>
<ul>
<li>
<strong>Nutritious and delicious ingredients</strong> – All good meals start with good ingredients, and the same is true of simulation experiments. If realistic simulation data (entirely synthetic or driven by real-world data) is not available, then there is no hope of producing high-quality simulations. Creating realistic synthetic data is the primary goal of our sibling package <a href="https://yu-group.github.io/dgpoix/" class="external-link"><code>dgpoix</code></a>, which was initially integrated into <code>simChef</code>.</li>
<li>
<strong>Skill and experience of the chef</strong> – Just as every chef’s cooking is informed by the handful of cuisines in which they specialize, simulation experiments are motivated by scientific questions from a particular domain. Just as a chef does not have to become an expert knifemaker before cooking their first meal, nor should the domain scientist have to waste time writing boilerplate code to for the computation and documentation of their simulations. <code>simChef</code> takes care of the details of running your experiments across the potentially large number of data and method perturbations you care about, freeing up time for you to focus on your scientific question.</li>
<li>
<strong>High-quality tools in the kitchen</strong> – Our package should be like an excellent chef’s knife or other kitchen essential. If a chef’s knife doesn’t cut straight or isn’t sharpened, then kitchen speed and safety suffers, as does the final presentation. <code>simChef</code> won’t cook a good simulation experiment for you, but it will get you there with less effort and higher-quality presentation while helping you follow best-practices like reproducibility with minimal effort on your part. No sharpening required!</li>
<li>
<strong>A high-quality meal is possible in almost any environment</strong> – While the scale of a delicious meal may be limited by environment, high-quality meals are not only found in the world’s Michelin-starred restaurants but also in home kitchens and street food carts around the world. An effective simulation framework should also be agnostic to environment, and <code>simChef</code> runs equally well on your laptop as on a high-performance computing cluster.</li>
<li>
<strong>Appetizing and approachable presentation</strong> – Ultimately, a chef prepares food for a specific audience, and presentation is almost equal in importance to the underlying substance of the meal. However, a chef doesn’t have to build the plate on which they serve their food. <code>simChef</code> provides tools to turn your simulation experiment results into effective displays of quantitative information which are populated within preset and customizable R Markdown templates.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="roadmap">Roadmap<a class="anchor" aria-label="anchor" href="#roadmap"></a>
</h2>
<ul class="task-list">
<li>
<input type="checkbox" disabled checked>Implement an abstract API to allow for a grammar of simulation experiments.</li>
<li>
<input type="checkbox" disabled checked>Run experimental replicates in parallel and agnostic to computational backend via the R package <code>future</code>.</li>
<li>
<input type="checkbox" disabled checked>Output an automated R Markdown report summarizing the results of an Experiment.</li>
<li>
<input type="checkbox" disabled checked>Allow for varying simulation experiments across arbitrary parameters of DGPs and Methods.</li>
<li>
<input type="checkbox" disabled checked>Cache results to avoid re-running already computed components of an Experiment.</li>
<li>
<input type="checkbox" disabled checked>Checkpoint simulations to avoid losing progress in the case of unexpected problems, e.g. node failure.</li>
<li>
<input type="checkbox" disabled checked>Gracefully handle errors from user-defined functions and return partial results error information for user to inspect upon completion.</li>
<li>
<input type="checkbox" disabled checked>Incorporate <code>progressr</code> for simulation progress updates.</li>
<li>
<input type="checkbox" disabled checked>Include a set of off-the-shelf DGPs (moved to <a href="https://yu-group.github.io/dgpoix/" class="external-link"><code>dgpoix</code></a>), Evaluators, and Visualizers to allow users to quickly run their methods in a number of common types of simulations.</li>
<li>
<input type="checkbox" disabled checked>Allow for user customization of the final R Markdown report (e.g. a customized R Markdown template/theme, order of Evaluator and Visualizer displays).</li>
<li>
<input type="checkbox" disabled>Give user the ability to choose which tasks are distributed to parallel workers, i.e. simulation replicates, DGPs, Methods, or combinations of the three.</li>
<li>
<input type="checkbox" disabled>Enable nested parallelization, e.g. one may paralellize across DGPs using multiple nodes on a cluster and parallelize across simulation replicates using the CPU cores within each node.</li>
<li>
<input type="checkbox" disabled>Publish to CRAN.</li>
</ul>
</div>
<div class="section level2">
<h2 id="related-r-packages">Related R packages<a class="anchor" aria-label="anchor" href="#related-r-packages"></a>
</h2>
<p>Below, we examine the main functionality of a number of existing tools for running reproducible simulation experiments that are currently available on <a href="https://cran.r-project.org/" class="external-link">CRAN</a> and have been updated within the last couple of years.</p>
<ul>
<li>
<a href="https://mllg.github.io/batchtools/index.html" class="external-link"><code>batchtools</code></a> implements abstractions for “problems” (similar to our DGP concept), “algorithms” (Method in <code>simChef</code>), and “experiments”. In addition to shared-memory computation via the <code>parallel</code> and <code>snow</code> packages, it also provides a number of utilities for working with high performance computing batch systems such as Slurm and Torque, which <code>simChef</code> supports via the <code>future.batchtools</code> package.</li>
<li>
<a href="https://cran.r-project.org/web/packages/SimDesign/index.html" class="external-link"><code>SimDesign</code></a> provides helper functions to define experimental conditions and then pass those experimental conditions to a user-defined data generation function, analysis function, and summary function. The package also provides a number of these functions for the user to choose from. Each experimental condition can be run over many replicates, computing results in parallel via the <code>parallel</code> package.</li>
<li>
<a href="https://meghapsimatrix.github.io/simhelpers/index.html" class="external-link"><code>simhelpers</code></a> defines functions to calculate Monte Carlo standard errors of simulation performance metrics, generate skeleton simulation code, and evaluate in parallel across simulation parameters via the <code>future</code> package.</li>
<li>The <a href="http://marselscheer.github.io/simTool/index.html" class="external-link"><code>simTool</code></a> package has two main functions: <code>expand_tibble()</code> and <code>eval_tibble()</code>. The former wraps the base R function <code><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid()</a></code> to create a cartesian product of simulation functions and parameters, while the latter evaluates those functions in parallel via the <code>parallel</code> package.</li>
<li>The <a href="https://github.com/SachaEpskamp/parSim" class="external-link"><code>parSim</code></a> package implements a single function of the same name which allows for parallelization of arbitrary R expressions across replicates and simulation conditions. <code>parSim</code> uses the <code>snow</code> package to setup parallel backends.</li>
<li>
<a href="https://ellessenne.github.io/rsimsum/index.html" class="external-link"><code>rsimsum</code></a> is an R implementation of the Stata command <code>simsum</code> and provides helper functions for summarizing and visualizing the results of a simulation study.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Yu-Group/simChef/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Yu-Group/simChef/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing simChef</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>James Duncan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-3297-681X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Tiffany Tang <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by James Duncan, Tiffany Tang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
